!function(t,i){"object"==typeof exports&&"undefined"!=typeof module?module.exports=i():"function"==typeof define&&define.amd?define(i):t.Scroller=i()}(this,function(){var t=function(t){var i=t.container,n=t.offset;void 0===n&&(n=.5);var e=t.scenes;this.observer=null,this.t={},this.i=i,this.s=n,this.o=0,this.h=e};return t.prototype.on=function(t,i){(this.t[t]||(this.t[t]=[])).push(i)},t.prototype.off=function(t,i){this.t[t]&&this.t[t].splice(this.t[t].indexOf(i)>>>0,1)},t.prototype.u=function(t,i){(this.t[t]||[]).slice().map(function(t){t(i)})},t.prototype.init=function(){var t=this,i=[],n=Math.ceil(-100*(1-this.s)),e=Math.ceil(-100*this.s);this.observer=new IntersectionObserver(function(n){var e=t.v();n.forEach(function(n){var s=n.target,o={bounds:n.boundingClientRect,element:s,index:i.indexOf(s),isScrollingDown:e},h=s===t.i?"container":"scene";t.u(n.isIntersecting?h+":enter":h+":exit",o)})},{rootMargin:n+"% 0px "+e+"%"});for(var s=0;s<this.h.length;s++){var o=this.h[s];i.push(o),this.observer.observe(o)}this.i&&this.observer.observe(this.i),this.u("init")},t.prototype.v=function(){var t=window.pageYOffset,i=t>this.o;return this.o=t,i},t});
//# sourceMappingURL=index.umd.js.map
